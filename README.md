# TRI-Egregious-Polluters

My code from an environmental sociology investigation lead by Professor Simone Pulver (UCSB) into whether some facilities in the EPA's Toxics Releases Industry (TRI) and Risk-Screening Environmental Indicators (RSEI) Hazard database pollute significantly more than others and what common underlying characteristics these facilities may share. 

Authors: Simone Pulver (lead of the project), Jeffrey Wu (quantitative lead), Mary Burke, Dustin Hill (contributors to previous projects)

This project builds on Professor Pulver's work on the topic, see (https://iopscience.iop.org/article/10.1088/1748-9326/ab7393/meta). In this project, Professor Pulver wanted to conduct a more rigorous statistical analysis to evaluate the distribution of "egregious polluters" across NAICS code industries and predict egregious polluter status based on facility characteristics, so she sought me out to be the quantitative lead for this project. The analysis is split into the two files included in this repository: 

## TRI-NETS-Merge.qmd

This project involved downloading and wrangling several different datasets: TRI-RSEI data (publicly available), NET/NAICS data (proprietary), and census block group data (proprietary). The main data acquisition, cleaning, and wrangling steps are included in this file. The TRI-RSEI data contains the emissions and RSEI Hazard data for hundreds of thousands of facilities across tens of thousands of industries from the years 1990-2022. Next, company and industry level information (acquired from Duns and Bradstreet) is attached such as number of employees, sales revenue, and whether the facility has a government contract or not. Finally, socioeconomic data (acquired from Geolytics) is attached to incorporate some information about the socioeconomic status of residents living within a 3 mile radius of each facility. This last step involved using GIS operations to draw a 3 mile buffer around each facility, calculate the areal apportionment of our socioeconomic variables based on which census block groups intersected this buffer, and then calculate an estimate a value for proportion of non-white residents and proportion of residents below the poverty line living near each facility for each facility-year observation. Once the final dataset is put together, it is carried into the quantitative analysis in the next file. 

## TRI-NETS-Analysis.qmd

In this file, after cleaning the final dataset a little bit more, some exploratory data analysis and then the main quantitative analysis for this project is carried out. The exploratory data analysis aims to tall up some important quantities like: how many unique TRI facilities, NAICS industries, and NAs there are in the dataset, and what the total emissions, number of employees, and number of facilities reported were for each year. It also aims to evaluate whether there is inequality within industries with respect to raw emissions/pollution amounts and RSEI Hazard score. This is done by calculating Gini coefficients for each industry for each year. These Gini coefficients highlight whether some industries had more inequity with respect to how much the companies within that industry were polluting and how this inequity may have changed over time. Then, in the main analysis, we identify the facility-year observations that qualify as egregious polluters based on five different criteria: (1) the facilities that are in the top 10% (90th percentile or above) of modeled RSEI hazard for their industry, (2) the facilities that when ranked from most to least modeled RSEI hazard, have a cumulative burden that accounts for 90% of the total pollution for their industry, (3) the facilities that have a modeled RSEI hazard that is at least 50x the median hazard for their industry, (4) the facilities that have a modeled RSEI hazard that is at least 100x the median hazard for their industry, and (5) the facilities that have a modeled RSEI hazard that is at least 1000x the median hazard for their industry. Under each of these categorizations, descriptive statistics such as the proportion of egregious polluters within each industry, the proportion of industries with egregious polluters, and the proportion of total annual pollution that the egregious polluters contributed within a given industry. Next, the overlap in egregious polluter categorization was calculated between the different criteria to see how many of the same facilities were being identified by each criteria. Finally, a random forest and binary logistic regression model were fit to predict egregious polluter status based on the NETS/NAICS and socioeconomic status variables that were added. With the help of SMOTE and cross-validation, an overall prediction accuracy rate of 96% and a true positive accuracy rate of 81% was achieved using the random forest model. A feature importance analysis revealed the variables that the model considered most predictive of egregious polluter status. Some tables and figures from this main analysis are included in the Results folder. The logistic regression results are not as informative because of the violation of general linear model assumptions, and thus are not included. 


